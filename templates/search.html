<html>
<head>
<title>
Smart Courses Selector
</title>
<link rel="stylesheet" type="text/css" href="/static/search.css"/>
<!--<script src="/static/jquery.js"></script>
<!--<script type="text/javascript" src="/static/json2.js"></script>-->
<script type="text/javascript">

</script>

</head>
<body>
<script type="text/javascript">
    function $(id){
      return document.getElementById(id);
    }
    
    function changeInfo(courseIn){
        {% for course in courses %}
            if (courseIn=='{{course.code}}{{course.section}}') {
                    $('infotitle').innerHTML = "<center><b>{{course.name}}</b></center>"
                    $('infonote').innerHTML = "<b><a href={{course.url}}>Link to course page in Five College website</a> </b>"
                    $('infodescription').innerHTML = "{{course.des}}</br>";
                    $('infodescriptiontitle').innerHTML = "<b>Description:</b>";
                    $('infoname').innerHTML = "Major: {{course.major}}</br>Code number: {{course.code}}</br>Section: {{course.section}}</br>Credits: {{course.credit}}";
                    $('infotime').innerHTML = "Meeting time:</br>{{course.schedule}}</br>Location:</br>{{course.location}}"
            }
        {% endfor %}
    }

    function add_remove_course(div_id,name,code,section){
        var xmlhttp;
        if (window.XMLHttpRequest)
          {// code for IE7+, Firefox, Chrome, Opera, Safari
          xmlhttp=new XMLHttpRequest();
          }
        else
          {// code for IE6, IE5
          xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
          }
        var test="test";
        xmlhttp.open("GET","/rpc?infor="+div_id+"&name="+name+"&code="+code+"&section="+section,true);
        xmlhttp.send();
        //xmlhttp.send("infor=test");
        xmlhttp.onreadystatechange=function()
          {
          if (xmlhttp.readyState==4 && xmlhttp.status==200)
            {
            button = document.getElementById(div_id);
            button.value = xmlhttp.responseText;
            //document.write("olala go inside");
            }
          }
    }
    
    function add_remove_course_show(div_id,name,code,section){
        var xmlhttp1;
        if (window.XMLHttpRequest)
          {// code for IE7+, Firefox, Chrome, Opera, Safari
          xmlhttp1=new XMLHttpRequest();
          }
        else
          {// code for IE6, IE5
          xmlhttp1=new ActiveXObject("Microsoft.XMLHTTP");
          }
        var test="test";
        xmlhttp1.open("GET","/srpc?infor="+div_id+"&name="+name+"&code="+code+"&section="+section,true);
        xmlhttp1.send();
        //xmlhttp.send("infor=test");
        xmlhttp1.onreadystatechange=function()
          {
          if (xmlhttp1.readyState==4 && xmlhttp1.status==200)
            {
            button = document.getElementById(div_id);
            button.value = xmlhttp1.responseText;
            //document.write("olala go inside");
            }
          }
    }
</script>
{% for course in courses %}
<script type="text/javascript">
add_remove_course_show('{{account.id}}{{course.name}}{{course.code}}{{course.section}}','{{course.name}}','{{course.code}}','{{course.section}}');
</script>
{% endfor %}
<center><h1><span id="brandfive"><a href="/">5ColCourse</a></span></h1></center>

<div id="schedule"><a href="/schedule">Schedule</a></div>
<div id="schedule1"><a href={{logout_link}}>Log Out</a></div>
<div id="scheduleh"><a href="/">Home</a></div>


<div id="schools">
<ul>
{% for school in schools %}
<li><a href="/?school={{school.name}}" onclick="changeMajor()">{{school.name}}</a></li>
{% endfor %}
</ul>
</div>
<div id="majors">
<ul>
{% for major in majors %}
<li><a href="/?major={{major.name}}&school={{major.school}}" onclick="changeCourse()">{{major.name}}</a></li>
{% endfor %}
</ul>
</div>
<div id="courses">
<ul>
{% for course in courses %}
<li>
<div id="courseid" onclick="changeInfo('{{course.code}}{{course.section}}')"><input id="{{account.id}}{{course.name}}{{course.code}}{{course.section}}" type="button" onclick="add_remove_course('{{account.id}}{{course.name}}{{course.code}}{{course.section}}','{{course.name}}','{{course.code}}','{{course.section}}')" value="add" />{{course.name}}</div>
</br>
</li>
{% endfor %}
</ul>
</div>
<div id="infodescriptiontitle">
</div>
<div id="infodescription">
</div>
<div id="infotitle"></div>
<div id="infonote"></div>
<div id="infoname">
</div>
<div id="infotime">
</div>

<div id="footer" style="position:absolute; top:93%; left:37%;">Created By Thanh Nguyen 2012. All Rights Reserved.</div>
</body>
</html>